<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="386px" preserveAspectRatio="none" style="width:505px;height:386px;background:#FFFFFF;" version="1.1" viewBox="0 0 505 386" width="505px" zoomAndPan="magnify"><defs><filter height="300%" id="fkuls5haw35o4" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fkuls5haw35o4)" height="272.5234" style="stroke:#A80036;stroke-width:1.0;" width="10" x="34" y="98.2969"/><rect fill="#FFFFFF" filter="url(#fkuls5haw35o4)" height="152.9922" style="stroke:#A80036;stroke-width:1.0;" width="10" x="196" y="119.4297"/><rect fill="#FFFFFF" filter="url(#fkuls5haw35o4)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="352" y="148.5625"/><rect fill="#FFFFFF" filter="url(#fkuls5haw35o4)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="433.5" y="325.6875"/><rect fill="#FFFFFF" filter="url(#fkuls5haw35o4)" height="75.3984" style="stroke:#000000;stroke-width:2.0;" width="481.5" x="10" y="287.4219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="39" x2="39" y1="88.2969" y2="379.8203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="201" x2="201" y1="88.2969" y2="379.8203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="356.5" x2="356.5" y1="88.2969" y2="379.8203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="438.5" x2="438.5" y1="228.4922" y2="379.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="20" y="84.9951">User</text><ellipse cx="39" cy="15" fill="#FEFECE" filter="url(#fkuls5haw35o4)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M39,23 L39,50 M26,31 L52,31 M39,50 L26,65 M39,50 L52,65 " fill="none" filter="url(#fkuls5haw35o4)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="157" y="68.6982">Probabilistic</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="177" y="84.9951">Solver</text><ellipse cx="201" cy="39.7031" fill="#FEFECE" filter="url(#fkuls5haw35o4)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="197,27.7031,203,22.7031,201,27.7031,203,32.7031,197,27.7031" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="328.5" y="68.6982">Internal</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="333" y="84.9951">Solver</text><ellipse cx="357" cy="39.7031" fill="#FEFECE" filter="url(#fkuls5haw35o4)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="353,27.7031,359,22.7031,357,27.7031,359,32.7031,353,27.7031" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FFFFFF" filter="url(#fkuls5haw35o4)" height="272.5234" style="stroke:#A80036;stroke-width:1.0;" width="10" x="34" y="98.2969"/><rect fill="#FFFFFF" filter="url(#fkuls5haw35o4)" height="152.9922" style="stroke:#A80036;stroke-width:1.0;" width="10" x="196" y="119.4297"/><rect fill="#FFFFFF" filter="url(#fkuls5haw35o4)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="352" y="148.5625"/><rect fill="#FFFFFF" filter="url(#fkuls5haw35o4)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="433.5" y="325.6875"/><polygon fill="#A80036" points="184,115.4297,194,119.4297,184,123.4297,188,119.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="44" x2="190" y1="119.4297" y2="119.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="51" y="114.3638">solve(Goal)</text><polygon fill="#A80036" points="340,144.5625,350,148.5625,340,152.5625,344,148.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="206" x2="346" y1="148.5625" y2="148.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="213" y="143.4966">prob_query(P, Goal)</text><polygon fill="#A80036" points="217,173.6953,207,177.6953,217,181.6953,213,177.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="211" x2="356" y1="177.6953" y2="177.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="75" x="223" y="172.6294">all solutions</text><polygon fill="#A80036" points="383.5,202.8281,393.5,206.8281,383.5,210.8281,387.5,206.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="206" x2="389.5" y1="206.8281" y2="206.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="41" x="213" y="201.7622">create</text><rect fill="#FEFECE" filter="url(#fkuls5haw35o4)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="78" x="399.5" y="185.6953"/><rect fill="#FEFECE" filter="url(#fkuls5haw35o4)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="78" x="395.5" y="189.6953"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="402.5" y="209.6904">Solutions</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="410" y="225.9873">Stream</text><polygon fill="#A80036" points="55,268.4219,45,272.4219,55,276.4219,51,272.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="49" x2="200" y1="272.4219" y2="272.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="128" x="61" y="267.356">reference to stream</text><path d="M10,287.4219 L87,287.4219 L87,294.4219 L77,304.4219 L10,304.4219 L10,287.4219 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="75.3984" style="stroke:#000000;stroke-width:2.0;" width="481.5" x="10" y="287.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="25" y="300.4888">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="102" y="299.6323">[</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="125" x="107" y="299.6323">stream has solution</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="232" y="299.6323">]</text><polygon fill="#A80036" points="421.5,321.6875,431.5,325.6875,421.5,329.6875,425.5,325.6875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="44" x2="427.5" y1="325.6875" y2="325.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="51" y="320.6216">next()</text><polygon fill="#A80036" points="55,350.8203,45,354.8203,55,358.8203,51,354.8203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="49" x2="437.5" y1="354.8203" y2="354.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="55" x="61" y="349.7544">Solution:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="120" y="349.7544">Goal = g</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="98" x="180" y="349.7544">with probability</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="282" y="349.7544">P = p</text><!--MD5=[2cb93e3be604d11b6d446ebed5bca701]
@startuml
hide footbox

actor User
control "Probabilistic\nSolver" as Solver
control "Internal\nSolver" as Prolog
collections "Solutions\nStream" as Stream

activate User
User -> Solver: solve(Goal)
activate Solver

Solver -> Prolog: prob_query(P, Goal)
activate Prolog
Prolog - -> Solver: //all solutions//
deactivate Prolog


create Stream
Solver -> Stream: //create//

Solver - -> User: //reference to stream//
deactivate Solver

loop //stream has solution//
User -> Stream: next()
activate Stream
Stream -> User: //Solution:// Goal = g //with probability// P = p
deactivate Stream
end
@enduml

PlantUML version 1.2021.9(Sun Jul 25 12:13:56 CEST 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: it
Country: IT
--></g></svg>